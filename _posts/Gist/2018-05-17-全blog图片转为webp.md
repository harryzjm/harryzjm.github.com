---
layout: post
title: 全blog图片转为webp
category: Gist
tags: Gist
keywords: Gist
description: 
---


全 blog 从 png, jpg, jpeg 统一到 [webp](https://developers.google.com/speed/webp/docs/precompiled) 使得整体图片文件大小从45M降到15M. 很好的实践 不错.

其中用到:  

```python  
#! /usr/local/bin/python3.6
import re
import os

dirs = os.listdir()
m = re.compile('(.+)\.(png|jpg|jpeg)$', flags=re.I)
for name in dirs:
    res=m.search(name)
    if res != None:
        newName = res.group(1) + '.webp'
        os.system('cwebp ' + name + ' -o ' + newName)
        os.remove(name)
```  

